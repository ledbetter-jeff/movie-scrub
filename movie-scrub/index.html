<!doctype html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Home | MovieScrub</title>
    <meta name="author" content="Jeff Ledbetter">
    <meta name="description" content="The Mountain Spoke's home page.">
    <!-- external style references in the proper cascading order -->
    <link href="https://fonts.googleapis.com/css?family=Oswald|PT+Serif|Roboto" rel="stylesheet">
    <link href="styles/normalize.css" rel="stylesheet"> <!-- normalize useragent/browser defaults -->
    <link href="styles/main.css" rel="stylesheet">    <!-- default styles - small/phone views -->
    <link href="styles/medium.css" rel="stylesheet">  <!-- medium/tablet views -->
    <link href="styles/large.css" rel="stylesheet">   <!-- large/wide/desktop views -->
    <link rel="icon" type="image/png" sizes="32x32" href="images/home-page/favicon-gw-32x32.png">
    <script type="text/javascript" src="scripts/jquery-3.3.1.min.js"></script>
    <!-- https://ledbetter-jeff.github.io/assignments/term-site/index.html   -->
</head>

<body>
<header>

</header>

<nav class="clearfix">
    <button onclick="toggleNavMenu()">&#9776;</button>
    <ul id="toggleNav" class="hide container">
        <li class="flexItem" id="active"><a href="#">Dashboard</a></li>
        <li class="flexItem"><a href="about-us.html">About Us</a></li>
        <li class="flexItem"><a href="contact-page.html">Contact Page</a></li>
    </ul>
</nav>
<main>
    <h1>Welcome MovieScrub!</h1>

    <h3>Movie screening made easy.</h3>
    <br>
    <br>
<section>

</section>
    <script>
        var header = document.querySelector('header');
        var section = document.querySelector('section');
        var requestURL = 'scripts/black_panther.json';
        var request = new XMLHttpRequest();
        request.open('GET', requestURL);
        request.responseType = 'text';
        request.send();
        request.onload = function() {
            var subTitleObject = request.response;
            var subTitles = JSON.parse(subTitleObject);
            populateHeader(subTitles);
            showSubTitles(subTitles);
        }
        function populateHeader(jsonObj) {
            var myH1 = document.createElement('h1');
//            myH1.textContent = jsonObj['squadName'];
            header.appendChild(myH1);
            var myPara = document.createElement('p');
   //         myPara.textContent = 'Location: ' + jsonObj['Location'] + ' // Formed: ' + jsonObj['formed'];
            header.appendChild(myPara);
        }
        function showSubTitles(jsonObj) {
            var subTitles = jsonObj['subTitles'];
            for(var i = 0; i < subTitles.length; i++) {
                var myArticle = document.createElement('article');
                var myH2 = document.createElement('h2');
                var myPara1 = document.createElement('p');
                var myPara2 = document.createElement('p');
                var myBreak = document.createElement('br');

                myH2.textContent = subTitles[i].subNum;
                myPara1.textContent = 'Time Stamp: ' + subTitles[i].timeStamp;
                myPara2.textContent = 'Text:' + subTitles[i].subText;
                myBreak.textContent = '<br>';


                myArticle.appendChild(myH2);
                myArticle.appendChild(myPara1);
                myArticle.appendChild(myPara2);
                myArticle.appendChild(myBreak);
                section.appendChild(myArticle);
            }
        }
    </script>
    
    <br>
    <br>
    <br>
    <br>



</main>

<footer>
    <p class="contact-info"> <br>MovieScrub <br> 5800 Orchard Drive<br> WDM, IA 50266 <br> 999-999-9999 <br> moviescrub@gmail.com</p>
    <p class="footer-bar">&copy;2019 All Rights Reserved &nbsp | &nbsp  <span id="currentDate">Current Date Placeholder</span></p>
</footer>
    <script src="scripts/hamburger.js"></script>
    <script src="scripts/currentDate.js"></script>

</body>
</html>